/* =====================================================
   AuroraPop - Motion Tokens & Animation Utilities
   ===================================================== */

:root {
  /* Duration tokens */
  --ap-dur-1: 100ms;   /* Micro: button press */
  --ap-dur-2: 200ms;   /* Quick: pop, snap */
  --ap-dur-3: 300ms;   /* Standard: most transitions */
  --ap-dur-4: 500ms;   /* Emphasis: entrance animations, morph */
  --ap-dur-5: 800ms;   /* Dramatic: confetti, complex sequences */

  /* Easing tokens */
  --ap-ease-pop: cubic-bezier(0.34, 1.56, 0.64, 1);       /* Bouncy */
  --ap-ease-soft: cubic-bezier(0.4, 0, 0.2, 1);           /* Soft */
  --ap-ease-snap: cubic-bezier(0.2, 0, 0, 1);             /* Sharp */
  --ap-ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Elastic */

  /* Motion control tokens */
  --ap-motion: 1;        /* 1=enabled, 0=disabled */
  --ap-motion-scale: 1;  /* Intensity scale (0.5=subtle, 1=normal, 1.5=dramatic) */
}

/* =====================================================
   Animation Utility Classes
   ===================================================== */

@layer utilities {
  /* ===== Transition Presets ===== */
  .ap-trans-pop {
    transition-property: transform, opacity, box-shadow;
    transition-duration: var(--ap-dur-2);
    transition-timing-function: var(--ap-ease-pop);
  }

  .ap-trans-snap {
    transition-property: transform, opacity, box-shadow;
    transition-duration: var(--ap-dur-1);
    transition-timing-function: var(--ap-ease-snap);
  }

  .ap-trans-soft {
    transition-property: transform, opacity, box-shadow;
    transition-duration: var(--ap-dur-3);
    transition-timing-function: var(--ap-ease-soft);
  }

  .ap-trans-spring {
    transition-property: transform, opacity, box-shadow;
    transition-duration: var(--ap-dur-3);
    transition-timing-function: var(--ap-ease-spring);
  }

  /* ===== Hover States ===== */
  .ap-hover-float {
    transition: transform var(--ap-dur-3) var(--ap-ease-soft);
  }
  .ap-hover-float:hover {
    transform: translateY(calc(-4px * var(--ap-motion-scale, 1)));
  }

  .ap-hover-glow {
    transition: box-shadow var(--ap-dur-3) var(--ap-ease-soft);
  }
  .ap-hover-glow:hover {
    box-shadow: 0 0 calc(20px * var(--ap-motion-scale, 1)) rgba(var(--ap-primary), 0.4);
  }

  .ap-hover-scale {
    transition: transform var(--ap-dur-2) var(--ap-ease-pop);
  }
  .ap-hover-scale:hover {
    transform: scale(calc(1 + 0.05 * var(--ap-motion-scale, 1)));
  }

  .ap-hover-tilt {
    transition: transform var(--ap-dur-2) var(--ap-ease-pop);
  }
  .ap-hover-tilt:hover {
    transform: rotate(calc(3deg * var(--ap-motion-scale, 1)));
  }

  /* ===== Active States ===== */
  .ap-active-squish {
    transition: transform var(--ap-dur-1) var(--ap-ease-snap);
  }
  .ap-active-squish:active {
    transform: scale(0.95, 0.97);
  }

  .ap-active-press {
    transition: transform var(--ap-dur-1) var(--ap-ease-snap);
  }
  .ap-active-press:active {
    transform: scale(0.97);
  }

  /* ===== Enter Animations ===== */
  .ap-enter-pop {
    animation: ap-scale-in var(--ap-dur-2) var(--ap-ease-pop) forwards;
  }

  .ap-enter-slide {
    animation: ap-slide-up var(--ap-dur-3) var(--ap-ease-spring) forwards;
  }

  .ap-enter-bounce {
    animation: ap-bounce var(--ap-dur-3) var(--ap-ease-pop) forwards;
  }

  .ap-enter-jelly {
    animation: ap-jelly var(--ap-dur-3) var(--ap-ease-spring) forwards;
  }

  /* ===== Exit Animations ===== */
  .ap-exit-fade {
    animation: ap-scale-out var(--ap-dur-2) var(--ap-ease-soft) forwards;
  }

  .ap-exit-slide {
    animation: ap-slide-down var(--ap-dur-2) var(--ap-ease-soft) forwards;
  }

  /* ===== Special Effects ===== */
  .ap-wiggle {
    animation: ap-wiggle var(--ap-dur-4) var(--ap-ease-snap);
  }

  .ap-pulse-ring {
    animation: ap-pulse-ring var(--ap-dur-4) var(--ap-ease-soft) forwards;
  }

  .ap-confetti {
    animation: ap-confetti var(--ap-dur-5) var(--ap-ease-soft) forwards;
  }

  /* ===== Motion Reduce ===== */
  .ap-motion-reduce,
  .ap-motion-reduce * {
    --ap-motion: 0 !important;
    --ap-motion-scale: 0 !important;
    animation: none !important;
    transition-duration: 0.01ms !important;
  }
}

/* Global reduced motion override */
@media (prefers-reduced-motion: reduce) {
  .ap-hover-float:hover,
  .ap-hover-scale:hover,
  .ap-hover-tilt:hover,
  .ap-active-squish:active,
  .ap-active-press:active {
    transform: none;
  }

  .ap-enter-pop,
  .ap-enter-slide,
  .ap-enter-bounce,
  .ap-enter-jelly,
  .ap-exit-fade,
  .ap-exit-slide,
  .ap-wiggle,
  .ap-pulse-ring,
  .ap-confetti {
    animation: none;
    opacity: 1;
  }
}
