{
  "$schema": "../registry-schema.json",
  "name": "tree-view",
  "type": "ui",
  "description": "Tree view component for displaying hierarchical data",
  "files": [
    {
      "path": "components/ui/tree-view.tsx",
      "type": "registry:ui",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronRightIcon, FolderIcon, FileIcon } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\"\n\ninterface TreeNode {\n  id: string\n  label: string\n  icon?: React.ReactNode\n  children?: TreeNode[]\n  disabled?: boolean\n  data?: Record<string, any>\n}\n\ninterface TreeViewProps\n  extends Omit<React.HTMLAttributes<HTMLDivElement>, \"onSelect\" | \"onToggle\"> {\n  data: TreeNode[]\n  defaultExpanded?: string[]\n  defaultSelected?: string\n  onSelect?: (nodeId: string) => void\n  onToggle?: (nodeId: string, expanded: boolean) => void\n  renderNode?: (node: TreeNode) => React.ReactNode\n}\n\nfunction TreeView({\n  data,\n  defaultExpanded = [],\n  defaultSelected,\n  onSelect,\n  onToggle,\n  renderNode,\n  className,\n  ...props\n}: TreeViewProps) {\n  const [expanded, setExpanded] = React.useState<Set<string>>(\n    new Set(defaultExpanded)\n  )\n  const [selected, setSelected] = React.useState<string | undefined>(\n    defaultSelected\n  )\n\n  const handleToggle = (nodeId: string) => {\n    const newExpanded = new Set(expanded)\n    const isExpanded = expanded.has(nodeId)\n\n    if (isExpanded) {\n      newExpanded.delete(nodeId)\n    } else {\n      newExpanded.add(nodeId)\n    }\n\n    setExpanded(newExpanded)\n    onToggle?.(nodeId, !isExpanded)\n  }\n\n  const handleSelect = (nodeId: string) => {\n    setSelected(nodeId)\n    onSelect?.(nodeId)\n  }\n\n  const renderTreeNode = (node: TreeNode, level: number = 0) => {\n    const hasChildren = node.children && node.children.length > 0\n    const isExpanded = expanded.has(node.id)\n    const isSelected = selected === node.id\n\n    if (renderNode) {\n      return renderNode(node)\n    }\n\n    if (hasChildren) {\n      return (\n        <Collapsible\n          key={node.id}\n          open={isExpanded}\n          onOpenChange={() => handleToggle(node.id)}\n        >\n          <div\n            className={cn(\n              \"flex items-center gap-2 px-2 py-1.5 rounded-md text-sm transition-colors\",\n              \"hover:bg-muted/50\",\n              isSelected && \"bg-primary/10 text-primary\",\n              node.disabled && \"opacity-50 cursor-not-allowed\",\n              !node.disabled && \"cursor-pointer\"\n            )}\n            style={{ paddingLeft: `${level * 1.5 + 0.5}rem` }}\n            onClick={() => !node.disabled && handleSelect(node.id)}\n          >\n            <CollapsibleTrigger className=\"shrink-0\" asChild>\n              <button\n                type=\"button\"\n                className=\"shrink-0\"\n                onClick={(e) => {\n                  e.stopPropagation()\n                  handleToggle(node.id)\n                }}\n              >\n                <ChevronRightIcon\n                  className={cn(\n                    \"h-4 w-4 transition-transform\",\n                    isExpanded && \"rotate-90\"\n                  )}\n                />\n              </button>\n            </CollapsibleTrigger>\n            {node.icon || (\n              <FolderIcon className=\"h-4 w-4 text-muted-foreground\" />\n            )}\n            <span className=\"flex-1\">{node.label}</span>\n          </div>\n          <CollapsibleContent className=\"mt-1\">\n            {node.children?.map((child) => renderTreeNode(child, level + 1))}\n          </CollapsibleContent>\n        </Collapsible>\n      )\n    }\n\n    return (\n      <div\n        key={node.id}\n        className={cn(\n          \"flex items-center gap-2 px-2 py-1.5 rounded-md text-sm transition-colors\",\n          \"hover:bg-muted/50\",\n          isSelected && \"bg-primary/10 text-primary\",\n          node.disabled && \"opacity-50 cursor-not-allowed\",\n          !node.disabled && \"cursor-pointer\"\n        )}\n        style={{ paddingLeft: `${level * 1.5 + 0.5}rem` }}\n        onClick={() => !node.disabled && handleSelect(node.id)}\n      >\n        <div className=\"w-4 shrink-0\" />\n        {node.icon || (\n          <FileIcon className=\"h-4 w-4 text-muted-foreground\" />\n        )}\n        <span className=\"flex-1\">{node.label}</span>\n      </div>\n    )\n  }\n\n  return (\n    <div\n      className={cn(\n        \"rounded-lg border border-border/60 bg-background/60 backdrop-blur-md p-2\",\n        className\n      )}\n      {...props}\n    >\n      {data.map((node) => renderTreeNode(node))}\n    </div>\n  )\n}\n\nexport { TreeView, type TreeViewProps, type TreeNode }\n"
    }
  ],
  "dependencies": ["lucide-react", "clsx", "tailwind-merge"],
  "registryDependencies": ["collapsible"]
}
